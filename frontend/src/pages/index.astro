---
import { useSanityClient } from "astro-sanity";
import Article from "../components/article/index.astro";
import type { Post } from "../interfaces";
import Layout from "../layouts/base.astro";

const allPosts: Post[] = await useSanityClient().fetch(`*[_type == "post"]`);
const posts = allPosts.slice(0, 6);
---

<Layout>
  <div class="space-y-2 pb-8 pt-6 md:space-y-5">
    <h1
      class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-6xl md:leading-14"
    >
      Últimos artículos
    </h1>
  </div>

  <ul class="divide-y divide-gray-200 dark:divide-gray-700">
    {
      posts.map((post) => (
        <li class="py-12">
          <Article post={post} />
        </li>
      ))
    }
  </ul>
</Layout>
